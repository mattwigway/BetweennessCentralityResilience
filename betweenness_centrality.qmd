---
title: Betweeness centrality is not a network resilience metric
author: 
    - name: Matthew Bhagat-Conway
      affiliations:
        - department: Department of City and Regional Planning
          name: University of North Carolina at Chapel Hill
bibliography: bibliography.bib
abstract: |
    Betweenness centrality measures the importance of a link or node in a network
    based on how often it falls on the shortest path between other nodes. It was
    originally introduced in social network analysis, where it is interpreted as the
    ability an actor has to moderate communication between others in the network.
    In transportation, it is often used as a measure of the resilience impact of
    a particular link. In this article, I argue that betweenness centrality is not
    a theoretically valid measure of resilience, and provide hypothetical networks
    where it clearly fails to identify resilience issues.

    **Keywords:** betweenness centrality, resilience, networks, graph theory
execute:
    echo: false
    include: false
format:
    wordcount-pdf:
        keep-tex: true
        template-partials:
            - title.tex
        include-in-header:
            # https://stackoverflow.com/questions/75040607
            text: |
                \usepackage[margin=1in]{geometry}
                \usepackage[noblocks]{authblk}
                \renewcommand*{\Authsep}{, }
                \renewcommand*{\Authand}{, }
                \renewcommand*{\Authands}{, }
                \renewcommand\Affilfont{\small}
---

<!--# Lede: Betweenness centrality is often used to evaluate network resilience, but it is not theoretically justified. This article demonstrates that betweenness centrality fails to capture redundancy using three hypothetical networks. -->

```{r}
GRID_SIZE = 13

library(igraph)
library(tidyverse)
library(gridExtra)
devtools::load_all()
```

```{r}
center = (GRID_SIZE + 1) / 2

Ggrid = gridded_graph(GRID_SIZE, GRID_SIZE) +
    # add the diagonal edge
    edge(get_grid_vid(center - 1, center - 1, GRID_SIZE), get_grid_vid(center + 1, center + 1, GRID_SIZE), weight = 2 * sqrt(2), curvature=0) -
    # delete the central vertex
    vertex(get_grid_vid(center, center, GRID_SIZE))

gridbc = edge_betweenness(Ggrid)

plot_graph(Ggrid, gridbc) +
    scale_color_binned(breaks=c(0, 50, 100, 200, 400, 800), palette="viridis")
```

```{r}
# and now the other graph
# figure out how many nodes need to be in the smaller section
# The subgraphs of all vertices above and to the right of and below
# and to the left of the central plaza will all have shortest paths
# passing through Diagon Alley - so the number of vertices in each of
# those subgraphs (which is the dimension of those subgraphs square) squared
# is the target betweenness
target_betweenness = ((GRID_SIZE - 1) / 2)^4
stopifnot(all.equal(target_betweenness, last(gridbc)))

# we want the total nodes to be equal so the betweennesses are comparable
# the number of nodes in the island multiplied the number of nodes in
# the mainland should roughly equal the target betweenness
# to do this we solve the system of simultaneous equations:
# n1 + n2 = n
# n1 * n2 = target_betweenness
#
# some simple algebra
# n1 = n - n2
# (n - n2) * n2 = target_betweenness
# nn2 - n2^2 = target_betweenness
# nn2 - n2^2 - target_betweenness = 0
# n2^2 - nn2 + target_betweenness = 0
# which looks like a quadratic equation we can solve with the quadratic formula
# 

n = gorder(Ggrid)

n2 = floor(min(
    (n + sqrt(n^2 - 4 * target_betweenness)) / 2,
    (n - sqrt(n^2 - 4 * target_betweenness)) / 2
))

n1 = n - n2

(target_betweenness - n1 * n2) / target_betweenness
```

```{r}
# make the graphs
mainland = gridded_graph(ceiling(sqrt(n1)), ceiling(sqrt(n1)))

while (gorder(mainland) > n1) {
    mainland = mainland - vertex(gorder(mainland))
}

island = gridded_graph(ceiling(sqrt(n2)), ceiling(sqrt(n2)), vidoffset=gorder(mainland), xoffset = GRID_SIZE + 2, yoffset = 2)

while (gorder(island) > n2) {
    island = island - vertex(gorder(island))
}

Gisland = mainland + island

# correctly merge weights
edge_attr(Gisland, "weight") = coalesce(
    edge_attr(Gisland, "weight_1"),
    edge_attr(Gisland, "weight_2")
)

vertex_attr(Gisland, "x") = coalesce(
    vertex_attr(Gisland, "x_1"),
    vertex_attr(Gisland, "x_2")
)

vertex_attr(Gisland, "y") = coalesce(
    vertex_attr(Gisland, "y_1"),
    vertex_attr(Gisland, "y_2")
)

edge_attr(Gisland, "curvature") = coalesce(
    edge_attr(Gisland, "curvature_1"),
    edge_attr(Gisland, "curvature_2")
)

# connect the island and mainland
Gisland = Gisland + edge(get_grid_vid(GRID_SIZE, 1, GRID_SIZE) + 1, gorder(mainland) + 1, weight=sqrt(10), curvature=0)

islandbc = edge_betweenness(Gisland)
```

```{r}
# multiplication factor of length is measured in Inkscape
Gislanddual = Gisland + edge(get_grid_vid(GRID_SIZE, 1, GRID_SIZE), gorder(mainland) + get_grid_vid(3, 1, 3), weight=sqrt(10) * 317.01/162.17, curvature=0.5)
dualbc = edge_betweenness(Gislanddual)
```

## Questions

Graph-theoretic metrics based on network structure are a common way to measure transportation resilience. Betweenness centrality, introduced by @freeman_set_1977 in social network analysis, is a common choice. It has seen resilience applications in road networks [@testa_resilience_2015], railways [@to_centrality_2015], sewage networks [@okwori_edgebased_2024], and electrical grids [@wang_electrical_2012].

Betweenness centrality of a link is defined as the number of shortest paths between any pair of nodes in the graph that pass through this link. When there are multiple equally-short paths, betweenness centrality is divided evenly among their constituent links [@csardi-igraph-2025]. Mathematically, the betweenness centrality $b_l$ of link $l$ is

$$
b_l = \displaystyle\sum_i\sum_{j \neq i}\frac{\#g_{ilj}}{\#g_{ij}}
$$ {#eq-bc}

where $i$ and $j$ are nodes in the graph, and $\#g_{ij}$ is the number of shortest paths from $i$ to $j$, while $\#g_{ilj}$ is the number of shortest paths from $i$ to $j$ that include link $l$. A link with high betweenness centrality lies on many shortest paths, which is often interpreted as meaning it is critical to network function.

@friedkin_theoretical_1991 provided theory for betweenness centrality in social networks. He argued that individuals with high betweenness centrality exerted significant influence on communication passing through them. Betweenness centrality is thus a measure of influence.

In this article, I argue that betweenness centrality is not a theoretically valid measure of resilience. Resilience of a network is a measure of how well the network functions under disruption, which is ultimately related to redundancy. Because betweenness centrality only considers shortest paths, and not the presence of longer alternates, it cannot measure redundancy.

## Methods

I demonstrate the problem through three hypothetical networks that clearly differ in terms of resilience but not in terms of betweenness centrality, shown in @fig-nets. The first is a gridded network, with one diagonal road in the center, which I refer to as Diagon Alley. It will serve as a  shortcut on any path between southwest and northeast.

```{r}
#| output: true
#| include: true
#| fig-cap: The three stylized networks used in this article
#| label: fig-nets
#| fig-width: 11
#| fig-height: 5
p1 = plot_graph(Ggrid) +
    labs(caption="a. Well-connected network\n(Diagon Alley)") +
    theme(plot.caption=element_text(hjust=0, size=14))
p2 = plot_graph(Gisland) +
    labs(caption="b. Poorly-connected network\n(Bridge)") +
    theme(plot.caption=element_text(hjust=0, size=14))
p3 = plot_graph(Gislanddual) +
    labs(caption="c. Better-connected network\n(Short and Long Bridge)") +
    theme(plot.caption=element_text(hjust=0, size=14))
grid.arrange(arrangeGrob(p1, p2, p3, nrow=1, widths=c(GRID_SIZE, GRID_SIZE + 2 + ceiling(sqrt(n2)), GRID_SIZE + 2 + ceiling(sqrt(n2)))))
```

The second network consists of a "mainland" and an "island," both with gridded networks, and with a single link, which I refer to as the bridge, connecting them. The bridge will be part of the shortest path from any node on the island to the mainland or vice-versa, and thus will have high betweenness centrality. The third network adds a second, longer bridge, that is too long to be on any shortest path and therefore has no impact on betweenness centrality. Betweenness centrality is calculated using `igraph` [@csardi-igraph-2006; @csardi-igraph-2025] in R [@r-2025]. Code is available at [removed for review](#).

## Findings

The betweenness centrality values for all three networks are shown in @fig-bc. As all three networks have `{r} n` nodes, betweenness centrality values are directly comparable. In the first network, Diagon Alley unsurprisingly has the highest betweeness centrality value, as it serves as a shortcut in an otherwise perfect grid. It has a betweenness centrality value of 1,296. In the second network, the bridge has the highest betweenness centrality, of 1,280—close to but _below_ the value for Diagon Alley, despite a clearly more important role in resilience. In the third network, despite the addition of the long bridge, the short bridge is still the shortest route for all access to the island. The betweenness centrality of the short bridge remains 1,280, even though it is clearly not nearly as critical to network function now that there is an alternative.

```{r}
#| output: true
#| include: true
#| fig-cap: Betweenness centrality values for the three networks
#| label: fig-bc
#| fig-width: 12
#| fig-height: 5
p1 = plot_graph(Ggrid, gridbc) +
    labs(caption="a. Well-connected network\n(Diagon Alley)") +
    theme(plot.caption=element_text(hjust=0, size=14), legend.position="none") +
    scale_color_binned(breaks=c(0, 100, 200, 400, 800, 1600), palette="viridis")
p2 = plot_graph(Gisland, islandbc) +
    labs(caption="b. Poorly-connected network\n(Island)") +
    theme(plot.caption=element_text(hjust=0, size=14), legend.position="none") +
    scale_color_binned(breaks=c(0, 100, 200, 400, 800, 1600), palette="viridis")
p3 = plot_graph(Gislanddual, dualbc) +
    theme(plot.caption=element_text(hjust=0, size=14)) +
    labs(caption="c. Better-connected network\n(Short and Long Bridge)", color="Betweenness\ncentrality") +
    scale_color_binned(breaks=c(0, 100, 200, 400, 800, 1600), palette="viridis")
grid.arrange(arrangeGrob(p1, p2, p3, nrow=1, widths=c(GRID_SIZE, GRID_SIZE + 2 + ceiling(sqrt(n2)), GRID_SIZE + 7.5 + ceiling(sqrt(n2)))))
```

Betweenness centrality is thus not a theoretically justified measure of transportation resilience. However, empirical results are mixed. @wan_survey_2021 found that removing nodes with high betweenness from real-world social and communications networks was very effective in causing disconnection. The networks used, however, differ from transport networks by having many high-degree nodes. Conversely, @liu_optimized_2024 found that nodes in the Shanghai metro with high betweenness  also tended to have many alternatives, suggesting that high betweenness centrality could indicate a redundant (and therefore resilient) link in transport networks.

There are a number of alternatives to betweenness centrality for evaluating network resilience. Arguably the best measures of redundancy are based on the $i$-betweenness; a link is $i$-between two vertices if all paths or semipaths, of any length, between the vertices pass through the link; different values of $i$ indicate different assumptions about directionality [@harary_structural_1965]. In the networks presented above, $i$-betweenness would identify the bridge in the second network as key to resilience. The main challenge with this is computation; it also does not differentiate short and long detours.

Another option is simulation, removing links from the network, either randomly or based on network structure, and evaluating connectivity [e.g., @aydin_integration_2018]. The challenge with this approach is that in many networks the criticality of links will have a highly-skewed distribution; in the networks above, for example, only one link, the bridge in the second network, has any impact on overall connectivity when removed. A random sampling of links might not contain that one, and thus the networks above would look identical from a resilience perspective.

A better approach is to remove links based on forecast future hazards. @fan_climate_2023 and @testa_resilience_2015 remove links based on forecasted extreme weather events; this neatly combines the vulnerability of each link with the vulnerability of the network structure itself. However, it is unable to identify links critical to network functionality while not being exceptionally vulnerable to the hazards modeled, though possibly to others—for instance, a crash or vehicle fire that causes long-term damage to the roadway.

The question of link-level resilience is essentially the inverse of the Road Network Design Problem, which is to select an optimal set of links to build to improve connectivity [@farahani_review_2013]. A promising area of research would be applying similar algorithms to select an optimal set of links to remove from a network to maximally decrease connectivity; these links are particularly critical to resilience.

## References